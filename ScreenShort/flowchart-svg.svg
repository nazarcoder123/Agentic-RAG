<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800" height="600" viewBox="0 0 800 600">
  <defs>
    <!-- Gradient Definitions -->
    <linearGradient id="initGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f0f2ff;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d6dcff;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dataGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e6f7ff;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#bae7ff;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="queryGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f6ffed;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d9f7be;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="agentGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fff2e8;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ffe7ba;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="decisionGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f5f0ff;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#efdbff;stop-opacity:1" />
    </linearGradient>
    
    <!-- Box Shadow Filter -->
    <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="2" dy="2" stdDeviation="2" flood-color="#00000044"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="800" height="600" fill="#ffffff"/>
  
  <!-- Title -->
  <text x="400" y="30" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle" fill="#333333">Agentic RAG with Gemini and Search</text>
  
  <!-- Initialization Section -->
  <rect x="50" y="60" width="700" height="80" rx="8" ry="8" fill="#f5f5ff" stroke="#6959CD" stroke-width="2" filter="url(#shadow)"/>
  <text x="400" y="80" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333333">Initialization</text>
  
  <!-- Init Boxes -->
  <rect x="70" y="95" width="120" height="30" rx="5" ry="5" fill="url(#initGradient)" stroke="#6959CD" stroke-width="2" filter="url(#shadow)"/>
  <text x="130" y="115" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">ğŸš€ Start App</text>
  
  <rect x="250" y="95" width="120" height="30" rx="5" ry="5" fill="url(#initGradient)" stroke="#6959CD" stroke-width="2" filter="url(#shadow)"/>
  <text x="310" y="115" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">ğŸ“± Streamlit UI</text>
  
  <rect x="430" y="95" width="120" height="30" rx="5" ry="5" fill="url(#initGradient)" stroke="#6959CD" stroke-width="2" filter="url(#shadow)"/>
  <text x="490" y="115" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">âš™ï¸ Session State</text>
  
  <rect x="610" y="95" width="120" height="30" rx="5" ry="5" fill="url(#initGradient)" stroke="#6959CD" stroke-width="2" filter="url(#shadow)"/>
  <text x="670" y="115" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">ğŸ—„ï¸ ChromaDB</text>
  
  <!-- Init Arrows -->
  <line x1="190" y1="110" x2="250" y2="110" stroke="#6959CD" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="370" y1="110" x2="430" y2="110" stroke="#6959CD" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="550" y1="110" x2="610" y2="110" stroke="#6959CD" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Data Processing Section -->
  <rect x="50" y="160" width="700" height="120" rx="8" ry="8" fill="#f0f7ff" stroke="#1890ff" stroke-width="2" filter="url(#shadow)"/>
  <text x="400" y="180" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333333">ğŸ’¾ Document Processing</text>
  
  <!-- Data Processing Top Row -->
  <rect x="70" y="195" width="120" height="30" rx="5" ry="5" fill="url(#dataGradient)" stroke="#1890ff" stroke-width="2" filter="url(#shadow)"/>
  <text x="130" y="215" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">ğŸ“„ Upload PDF</text>
  
  <rect x="250" y="195" width="120" height="30" rx="5" ry="5" fill="url(#dataGradient)" stroke="#1890ff" stroke-width="2" filter="url(#shadow)"/>
  <text x="310" y="215" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">ğŸ”ª Split Chunks</text>
  
  <rect x="430" y="195" width="120" height="30" rx="5" ry="5" fill="url(#dataGradient)" stroke="#1890ff" stroke-width="2" filter="url(#shadow)"/>
  <text x="490" y="215" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">ğŸ§  Embeddings</text>
  
  <rect x="610" y="195" width="120" height="30" rx="5" ry="5" fill="url(#dataGradient)" stroke="#1890ff" stroke-width="2" filter="url(#shadow)"/>
  <text x="670" y="215" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">ğŸ“¦ Store in DB</text>
  
  <!-- Data Processing Bottom Row -->
  <rect x="70" y="235" width="120" height="30" rx="5" ry="5" fill="url(#dataGradient)" stroke="#1890ff" stroke-width="2" filter="url(#shadow)"/>
  <text x="130" y="255" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">ğŸŒ Enter URL</text>
  
  <!-- Data Processing Arrows -->
  <line x1="190" y1="210" x2="250" y2="210" stroke="#1890ff" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="130" y1="235" x2="130" y2="225" stroke="#1890ff" stroke-width="2"/>
  <line x1="130" y1="225" x2="225" y2="225" stroke="#1890ff" stroke-width="2"/>
  <line x1="190" y1="250" x2="225" y2="250" stroke="#1890ff" stroke-width="2"/>
  <line x1="225" y1="225" x2="225" y2="250" stroke="#1890ff" stroke-width="2"/>
  <line x1="225" y1="237" x2="250" y2="237" stroke="#1890ff" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="370" y1="210" x2="430" y2="210" stroke="#1890ff" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="550" y1="210" x2="610" y2="210" stroke="#1890ff" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="670" y1="140" x2="670" y2="195" stroke="#6959CD" stroke-width="2" marker-end="url(#arrowhead)"/>

  <!-- Query Processing Section -->
  <rect x="50" y="300" width="700" height="160" rx="8" ry="8" fill="#f6fff0" stroke="#52c41a" stroke-width="2" filter="url(#shadow)"/>
  <text x="400" y="320" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333333">ğŸ” Query Processing</text>
  
  <!-- Query Processing Top Row -->
  <rect x="70" y="335" width="120" height="30" rx="5" ry="5" fill="url(#queryGradient)" stroke="#52c41a" stroke-width="2" filter="url(#shadow)"/>
  <text x="130" y="355" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">â“ User Query</text>
  
  <rect x="250" y="335" width="120" height="30" rx="5" ry="5" fill="url(#queryGradient)" stroke="#52c41a" stroke-width="2" filter="url(#shadow)"/>
  <text x="310" y="355" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">ğŸ” Vector Search</text>
  
  <!-- Decision Diamond -->
  <polygon points="430,335 460,350 430,365 400,350" fill="url(#decisionGradient)" stroke="#722ed1" stroke-width="2" filter="url(#shadow)"/>
  <text x="430" y="355" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#333333">Docs Found?</text>
  
  <!-- Query Bottom Rows -->
  <rect x="160" y="385" width="120" height="30" rx="5" ry="5" fill="url(#queryGradient)" stroke="#52c41a" stroke-width="2" filter="url(#shadow)"/>
  <text x="220" y="405" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">ğŸ“ Doc Context</text>
  
  <rect x="520" y="385" width="120" height="30" rx="5" ry="5" fill="url(#queryGradient)" stroke="#52c41a" stroke-width="2" filter="url(#shadow)"/>
  <text x="580" y="405" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">ğŸŒ Web Search</text>
  
  <rect x="160" y="425" width="120" height="30" rx="5" ry="5" fill="url(#queryGradient)" stroke="#52c41a" stroke-width="2" filter="url(#shadow)"/>
  <text x="220" y="445" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">ğŸ¤– Generate from Docs</text>
  
  <rect x="520" y="425" width="120" height="30" rx="5" ry="5" fill="url(#queryGradient)" stroke="#52c41a" stroke-width="2" filter="url(#shadow)"/>
  <text x="580" y="445" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">ğŸ¤– Generate from Web</text>
  
  <!-- Output Box -->
  <rect x="340" y="425" width="120" height="30" rx="5" ry="5" fill="#f0f5ff" stroke="#2f54eb" stroke-width="2" filter="url(#shadow)"/>
  <text x="400" y="445" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">ğŸ“Š Display Answer</text>
  
  <!-- Query Arrows -->
  <line x1="190" y1="350" x2="250" y2="350" stroke="#52c41a" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="370" y1="350" x2="400" y2="350" stroke="#52c41a" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="460" y1="350" x2="480" y2="350" stroke="#722ed1" stroke-width="2"/>
  <line x1="480" y1="350" x2="480" y2="385" stroke="#722ed1" stroke-width="2"/>
  <line x1="480" y1="385" x2="520" y2="385" stroke="#722ed1" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="400" y1="365" x2="400" y2="385" stroke="#722ed1" stroke-width="2"/>
  <line x1="400" y1="385" x2="280" y2="385" stroke="#722ed1" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="460" y="375" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#722ed1">No/Force Web</text>
  <text x="340" y="375" font-family="Arial, sans-serif" font-size="9" text-anchor="middle" fill="#722ed1">Yes</text>
  <line x1="220" y1="415" x2="220" y2="425" stroke="#52c41a" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="580" y1="415" x2="580" y2="425" stroke="#52c41a" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="220" y1="455" x2="220" y2="470" stroke="#52c41a" stroke-width="2"/>
  <line x1="220" y1="470" x2="400" y2="470" stroke="#52c41a" stroke-width="2"/>
  <line x1="580" y1="455" x2="580" y2="470" stroke="#52c41a" stroke-width="2"/>
  <line x1="580" y1="470" x2="400" y2="470" stroke="#52c41a" stroke-width="2"/>
  <line x1="400" y1="470" x2="400" y2="455" stroke="#52c41a" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="670" y1="225" x2="670" y2="290" stroke="#1890ff" stroke-width="2"/>
  <line x1="670" y1="290" x2="130" y2="290" stroke="#1890ff" stroke-width="2"/>
  <line x1="130" y1="290" x2="130" y2="335" stroke="#1890ff" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Agents Section -->
  <rect x="50" y="480" width="700" height="80" rx="8" ry="8" fill="#fff7f0" stroke="#fa8c16" stroke-width="2" filter="url(#shadow)"/>
  <text x="400" y="500" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333333">ğŸ§  AI Agents</text>
  
  <!-- Agent Boxes -->
  <rect x="100" y="515" width="150" height="30" rx="5" ry="5" fill="url(#agentGradient)" stroke="#fa8c16" stroke-width="2" filter="url(#shadow)"/>
  <text x="175" y="535" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">âœï¸ Query Rewriter</text>
  
  <rect x="325" y="515" width="150" height="30" rx="5" ry="5" fill="url(#agentGradient)" stroke="#fa8c16" stroke-width="2" filter="url(#shadow)"/>
  <text x="400" y="535" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">ğŸ” Web Search Agent</text>
  
  <rect x="550" y="515" width="150" height="30" rx="5" ry="5" fill="url(#agentGradient)" stroke="#fa8c16" stroke-width="2" filter="url(#shadow)"/>
  <text x="625" y="535" font-family="Arial, sans-serif" font-size="12" text-anchor="middle" fill="#333333">ğŸ“š RAG Knowledge Agent</text>
  
  <!-- Agent Connections -->
  <path d="M175,515 Q175,475 130,360" stroke="#fa8c16" stroke-width="1.5" stroke-dasharray="4,2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M400,515 Q400,475 580,400" stroke="#fa8c16" stroke-width="1.5" stroke-dasharray="4,2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M625,515 Q625,475 220,400" stroke="#fa8c16" stroke-width="1.5" stroke-dasharray="4,2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Markers -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
    </marker>
  </defs>
</svg>
